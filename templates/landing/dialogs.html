{% extends "base.html" %}
{% load static %}


{% block content %}
    <div class="container">
    <div class="col-md-3">
        <div class="user-list-div">
            <ul>Dialog 1</ul>
            <ul>Dialog 2</ul>
        </div>
    </div>
    <div class="col-md-9">
        <div class="row">
            <div class="messages-container">
                <div id="messages" class="messages">
                    {% for msg in dialog.messages %}
                    <p>
                        <span class="username">{{ msg.sender.username }}:</span>
                        {{ msg.text }}
                        <span class="timestamp">&ndash; <span data-livestamp="{{ msg.created}}">{{ msg.created }}</span></span>
                    </p>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="add-message">
                <p class="pull-left">Logged in as: <b id="username">{{ silly_name }}</b></p>
                <div class="form-group">
                    <textarea id="chat-message" class="form-control message" placeholder="Write a message"></textarea>
                </div>

                <div class="form-group clearfix">
                    <input id="btn-send-message" type="submit" class="btn btn-primary pull-right send-message" style="margin-left: 10px;" value="Send message" />
                </div>
            </div>
        </div>
    </div>

    </div>

    {% verbatim %}
    <script id="chat-message-template" type="text/x-handlebars-template">
        <p>
            <span class="username">{{ msg.username }}:</span>
            {{ msg.message }}
            <span class="timestamp">&ndash; <span data-livestamp="{{ msg.created}}">{{ msg.created }}</span></span>
        </p>
    </script>

    <script id="user-list-item-template" type="text/x-handlebars-template">
        <li>{{ username }}</li>
    </script>
    {% endverbatim %}

{% endblock %}

{% block extra_js %}
    <script>
        var base_ws_server_path = "{{ ws_server_path }}";
    </script>
{% endblock %}